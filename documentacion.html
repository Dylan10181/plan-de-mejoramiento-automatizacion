<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentaci√≥n T√©cnica - Huerta Automatizada</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Documentaci√≥n del Sistema Automatizado</h1>
    <nav>
      <a href="index.html">Inicio</a> |
      <a href="documentacion.html">Documentaci√≥n</a> |
      <a href="aplicacion.html">Aplicaci√≥n</a>
    </nav>
  </header>

  <section id="objetivo">
    <h2>Objetivo General</h2>
    <p>Automatizar el riego de una huerta escolar mediante sensores de humedad, temperatura y un sistema de control con ESP32.</p>
  </section>

  <section id="componentes">
    <h2>Componentes Utilizados</h2>
    <table>
      <tr><th>Componente</th><th>Funci√≥n</th></tr>
      <tr><td>ESP32</td><td>Microcontrolador principal, gestiona la lectura de sensores y el control del actuador.</td></tr>
      <tr><td>Sensor de humedad YL-69</td><td>Detecta el nivel de humedad del suelo.</td></tr>
      <tr><td>Sensor DHT11</td><td>Mide la temperatura y humedad del ambiente.</td></tr>
      <tr><td>Bomba de agua</td><td>Actuador encargado del riego autom√°tico.</td></tr>
      <tr><td>Protoboard y cables</td><td>Permiten las conexiones el√©ctricas del sistema.</td></tr>
    </table>
  </section>

  <section id="diagrama">
    <h2>Diagrama del Sistema</h2>
    <img src="img/diagrama_bloques.png" alt="Diagrama de bloques del sistema automatizado">
    <p><strong>Conexiones principales:</strong></p>
    <ul>
      <li>YL-69 ‚Üí Pin A0 del ESP32</li>
      <li>DHT11 ‚Üí Pin D4</li>
      <li>Bomba de agua ‚Üí Pin D15 (v√≠a transistor o rel√©)</li>
    </ul>
  </section>

  <section id="codigo">
    <h2>C√≥digo del Sistema (ESP32)</h2>
    <pre><code>
#include <WiFi.h>
#include <DHT.h>

// --- Configuraci√≥n WiFi ---
const char* ssid = "TU_SSID";
const char* password = "TU_PASSWORD";

// --- Pines ---
#define DHTPIN 4
#define DHTTYPE DHT11
#define SENSOR_HUMEDAD 34
#define BOMBA 15

DHT dht(DHTPIN, DHTTYPE);

// --- Variables ---
float humedadSuelo;
float humedadAmbiente;
float temperatura;

void setup() {
  Serial.begin(115200);
  pinMode(BOMBA, OUTPUT);
  dht.begin();

  WiFi.begin(ssid, password);
  Serial.print("Conectando a WiFi...");
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\nConectado a WiFi!");
}

void loop() {
  humedadSuelo = analogRead(SENSOR_HUMEDAD);
  humedadAmbiente = dht.readHumidity();
  temperatura = dht.readTemperature();

  Serial.print("Humedad suelo: "); Serial.println(humedadSuelo);
  Serial.print("Humedad ambiente: "); Serial.print(humedadAmbiente);
  Serial.print("  Temperatura: "); Serial.println(temperatura);

  if (humedadSuelo < 2000) {
    digitalWrite(BOMBA, HIGH);
    Serial.println("üíß Bomba encendida");
  } else {
    digitalWrite(BOMBA, LOW);
    Serial.println("üö´ Bomba apagada");
  }

  delay(2000);
}
    </code></pre>
  </section>

  <section id="funcionamiento">
    <h2>Explicaci√≥n del Funcionamiento</h2>
    <p>
      El sistema mide constantemente la humedad del suelo. Si esta desciende por debajo de un valor cr√≠tico, el microcontrolador activa la bomba
      de agua para irrigar la huerta. Simult√°neamente, se leen los valores del DHT11 para monitorear la temperatura y humedad ambiental.
      Estos datos pueden visualizarse en App Inventor.
    </p>
  </section>

  <section id="evidencias">
    <h2>Evidencias del Sistema</h2>
    <img src="img/circuito.jpg" alt="Montaje f√≠sico del circuito">
    <img src="img/resultados.jpg" alt="Lecturas en monitor serial">
  </section>

  <footer>
    <p>¬© 2025 Dylan Trujillo | Documentaci√≥n T√©cnica - Huerta Automatizada</p>
  </footer>
</body>
</html>
